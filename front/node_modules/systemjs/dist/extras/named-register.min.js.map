{"version":3,"file":"##.min.js","names":["global","setRegisterRegistry","systemInstance","registerRegistry","Object","create","namedRegisterAliases","System","firstNamedDefine","firstName","systemJSPrototype","constructor","prototype","SystemJS","call","this","register","name","deps","declare","metas","apply","arguments","define","Promise","resolve","then","id","parentURL","err","instantiate","url","firstParentUrl","meta","result","getRegister","self"],"sources":["named-register.js"],"sourcesContent":["(function () {\n\n  /*\n   * SystemJS named register extension\n   * Supports System.register('name', [..deps..], function (_export, _context) { ... })\n   *\n   * Names are written to the registry as-is\n   * System.register('x', ...) can be imported as System.import('x')\n   */\n  (function (global) {\n    var System = global.System;\n    setRegisterRegistry(System);\n    var systemJSPrototype = System.constructor.prototype;\n    var constructor = System.constructor;\n    var SystemJS = function () {\n      constructor.call(this);\n      setRegisterRegistry(this);\n    };\n    SystemJS.prototype = systemJSPrototype;\n    System.constructor = SystemJS;\n\n    var firstNamedDefine, firstName;\n\n    function setRegisterRegistry(systemInstance) {\n      systemInstance.registerRegistry = Object.create(null);\n      systemInstance.namedRegisterAliases = Object.create(null);\n    }\n\n    var register = systemJSPrototype.register;\n    systemJSPrototype.register = function (name, deps, declare, metas) {\n      if (typeof name !== 'string')\n        return register.apply(this, arguments);\n      var define = [deps, declare, metas];\n      this.registerRegistry[name] = define;\n      if (!firstNamedDefine) {\n        firstNamedDefine = define;\n        firstName = name;\n      }\n      Promise.resolve().then(function () {\n        firstNamedDefine = null;\n        firstName = null;\n      });\n      return register.apply(this, [deps, declare, metas]);\n    };\n\n    var resolve = systemJSPrototype.resolve;\n    systemJSPrototype.resolve = function (id, parentURL) {\n      try {\n        // Prefer import map (or other existing) resolution over the registerRegistry\n        return resolve.call(this, id, parentURL);\n      } catch (err) {\n        if (id in this.registerRegistry) {\n          return this.namedRegisterAliases[id] || id;\n        }\n        throw err;\n      }\n    };\n\n    var instantiate = systemJSPrototype.instantiate;\n    systemJSPrototype.instantiate = function (url, firstParentUrl, meta) {\n      var result = this.registerRegistry[url];\n      if (result) {\n        this.registerRegistry[url] = null;\n        return result;\n      } else {\n        return instantiate.call(this, url, firstParentUrl, meta);\n      }\n    };\n\n    var getRegister = systemJSPrototype.getRegister;\n    systemJSPrototype.getRegister = function (url) {\n      // Calling getRegister() because other extras need to know it was called so they can perform side effects\n      var register = getRegister.call(this, url);\n\n      if (firstName && url) {\n        this.namedRegisterAliases[firstName] = url;\n      }\n      var result = firstNamedDefine || register;\n      firstNamedDefine = null;\n      firstName = null;\n      return result;\n    };\n  })(typeof self !== 'undefined' ? self : global);\n\n})();\n"],"mappings":"CASE,SAAWA,GAcT,SAASC,EAAoBC,GAC3BA,EAAeC,iBAAmBC,OAAOC,OAAO,MAChDH,EAAeI,qBAAuBF,OAAOC,OAAO,KACtD,CAhBA,IAAIE,EAASP,EAAOO,OACpBN,EAAoBM,GACpB,IASIC,EAAkBC,EATlBC,EAAoBH,EAAOI,YAAYC,UACvCD,EAAcJ,EAAOI,YACrBE,EAAW,WACbF,EAAYG,KAAKC,MACjBd,EAAoBc,KACtB,EACAF,EAASD,UAAYF,EACrBH,EAAOI,YAAcE,EASrB,IAAIG,EAAWN,EAAkBM,SACjCN,EAAkBM,SAAW,SAAUC,EAAMC,EAAMC,EAASC,GAC1D,GAAoB,iBAATH,EACT,OAAOD,EAASK,MAAMN,KAAMO,WAC9B,IAAIC,EAAS,CAACL,EAAMC,EAASC,GAU7B,OATAL,KAAKZ,iBAAiBc,GAAQM,EACzBf,IACHA,EAAmBe,EACnBd,EAAYQ,GAEdO,QAAQC,UAAUC,MAAK,WACrBlB,EAAmB,KACnBC,EAAY,IACd,IACOO,EAASK,KAAMN,KAAOG,EAAMC,EAASC,EAC9C,EAEA,IAAIK,EAAUf,EAAkBe,QAChCf,EAAkBe,QAAU,SAAUE,EAAIC,GACxC,IAEE,OAAOH,EAAQX,KAAKC,KAAMY,EAAIC,EAChC,CAAE,MAAOC,GACP,GAAIF,KAAMZ,KAAKZ,iBACb,OAAOY,KAAKT,qBAAqBqB,IAAOA,EAE1C,MAAME,CACR,CACF,EAEA,IAAIC,EAAcpB,EAAkBoB,YACpCpB,EAAkBoB,YAAc,SAAUC,EAAKC,EAAgBC,GAC7D,IAAIC,EAASnB,KAAKZ,iBAAiB4B,GACnC,OAAIG,GACFnB,KAAKZ,iBAAiB4B,GAAO,KACtBG,GAEAJ,EAAYhB,KAAKC,KAAMgB,EAAKC,EAAgBC,EAEvD,EAEA,IAAIE,EAAczB,EAAkByB,YACpCzB,EAAkByB,YAAc,SAAUJ,GAExC,IAAIf,EAAWmB,EAAYrB,KAAKC,KAAMgB,GAElCtB,GAAasB,IACfhB,KAAKT,qBAAqBG,GAAasB,GAEzC,IAAIG,EAAS1B,GAAoBQ,EAGjC,OAFAR,EAAmB,KACnBC,EAAY,KACLyB,CACT,CACD,CAzED,CAyEmB,oBAATE,KAAuBA,KAAOpC"}